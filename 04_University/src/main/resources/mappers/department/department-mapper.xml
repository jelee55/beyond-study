<?xml version="1.0" encoding="UTF-8" ?>
<!-- mybatis mapper 설정 파일임을 선언한다. -->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.beyond.university.department.model.mapper.DepartmentMapper">
    <!--
        resultMap은 DB의 조회 결과(행)와 자바 객체를 명시적으로 매팽해줄 떄 사용

    -->
    <resultMap id="departmentResultMap" type="Department">
        <!-- 조회 결과의 기본 키(Pk) 컬럼을 매핑 -->
        <!-- property : 자바 객체의 필드 이름, column : 조회 결과의 열 이름 -->
        <id property="no" column="department_no"/>
        <result property="name" column="department_name"/>
        <result property="category" column="category"/>
        <result property="openYn" column="open_yn"/>
        <result property="capacity" column="capacity"/>

    </resultMap>
    <!--
        쿼리문의 수행 결과를 담은 ResultSet을 resultType의 객체에 조회 결과를 자동으로 매핑해서 리턴
        단, 조회 결과의 컬럼명과 자바 클래스의 필드명이 동일해야 자동으로 매핑됨(대소문자는 구분하지 않음)
    -->
<!--    <select id="selectAll" resultType="Department">-->
    <select id="selectAll" resultMap="departmentResultMap">
        <!--
            방법 1) 쿼리문에 "AS 별칭"으로 조회되는 컬럼명을 변경
        -->
        SELECT department_no
             , department_name
             , category
             , open_yn
             , capacity
        FROM tb_department
        ORDER BY department_name ASC
    </select>
</mapper>